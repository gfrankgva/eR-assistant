# Quick Test Bookmarklet

Copy this entire code and paste it as a bookmark URL:

```javascript
javascript:(function(){if(document.getElementById('bpa-widget-test')){return;}const s=document.createElement('style');s.textContent='#bpa-widget-test{position:fixed;top:0;right:-420px;width:420px;height:100vh;background:linear-gradient(180deg,#1a1a1a 0%,#0f0f0f 100%);box-shadow:-4px 0 24px rgba(0,0,0,0.5);z-index:999999;transition:right 0.3s;color:#e0e0e0;font-family:system-ui,sans-serif;border-left:1px solid #333}#bpa-widget-test.open{right:0}.wh{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:20px;color:white}.wt{font-size:18px;font-weight:600;margin-bottom:4px}.st{font-size:12px;opacity:0.8}.cb{position:absolute;top:20px;right:20px;background:rgba(255,255,255,0.2);border:none;color:white;width:32px;height:32px;border-radius:8px;cursor:pointer;font-size:20px}.wc{padding:24px;overflow-y:auto;height:calc(100vh - 80px)}.sec{background:#1a1a1a;border:1px solid #333;border-radius:12px;padding:20px;margin-bottom:16px}.st2{font-size:14px;font-weight:600;margin-bottom:12px}.ig{display:grid;gap:12px}.ii{background:#0f0f0f;padding:12px;border-radius:8px;border:1px solid #2a2a2a}.il{font-size:11px;color:#999;margin-bottom:4px}.iv{font-size:14px;font-weight:500}.ua{border:2px dashed #444;border-radius:8px;padding:32px 20px;text-align:center;cursor:pointer;background:#0f0f0f}.ua:hover{border-color:#667eea}.bp{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;width:100%;margin-top:12px}.sg{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}.sc{background:#0f0f0f;padding:16px;border-radius:8px;border:1px solid #2a2a2a;text-align:center}.sv{font-size:24px;font-weight:600;color:#667eea;margin-bottom:4px}.sl{font-size:12px;color:#999}.tb{position:fixed;top:50%;right:0;transform:translateY(-50%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;padding:16px 12px;border-radius:12px 0 0 12px;cursor:pointer;z-index:999998;writing-mode:vertical-rl;font-weight:600}';document.head.appendChild(s);const w=document.createElement('div');w.id='bpa-widget-test';w.innerHTML='<div class="wh"><div><div class="wt">BPA Analyzer & Tester</div><div class="st" id="pt">Detecting...</div></div><button class="cb" onclick="this.parentElement.parentElement.classList.toggle(\'open\')">√ó</button></div><div class="wc"><div class="sec"><div class="st2">üîç Current Page</div><div class="ig"><div class="ii"><div class="il">ENVIRONMENT</div><div class="iv" id="et">-</div></div><div class="ii"><div class="il">SERVICE ID</div><div class="iv" id="si" style="font-size:10px;word-break:break-all">-</div></div></div></div><div class="sec"><div class="st2">üìÑ Load Service JSON</div><div class="ua" onclick="document.getElementById(\'fu\').click()"><div style="font-size:48px;margin-bottom:12px;opacity:0.6">üìÅ</div><div style="margin-bottom:8px">Click to upload JSON</div><div style="font-size:12px;color:#666">Service configuration file</div></div><input type="file" id="fu" accept=".json" style="display:none"></div><div class="sec" id="si-sec" style="display:none"><div class="st2">üìä Service Overview</div><div id="si-content"></div></div><div class="sec" id="as" style="display:none"><div class="st2">‚ö° Actions</div><button class="bp" onclick="alert(\'Analysis coming in Phase 2!\')">üîç Analyze Service</button></div></div>';document.body.appendChild(w);const tb=document.createElement('button');tb.className='tb';tb.textContent='BPA TOOLS';tb.onclick=()=>w.classList.toggle('open');document.body.appendChild(tb);const url=window.location.href;let t='unknown',id='-';const bm=url.match(/bpa\..*\.eregistrations\.org\/services\/([a-f0-9-]+)/i);if(bm){t='bpa';id=bm[1];}else{const dm=url.match(/(?<!bpa\.)eregistrations\.org\/services\/([a-f0-9-]+)/i);if(dm){t='ds';id=dm[1];}}document.getElementById('pt').textContent=t==='bpa'?'BPA Configuration Page':t==='ds'?'DS Service Page':'Not a BPA/DS page';document.getElementById('et').innerHTML=t==='bpa'?'<span style="background:rgba(102,126,234,0.2);color:#8b9dff;padding:4px 10px;border-radius:6px;font-size:11px">BPA</span>':t==='ds'?'<span style="background:rgba(118,75,162,0.2);color:#b794d4;padding:4px 10px;border-radius:6px;font-size:11px">DS</span>':'<span style="color:#666">Other</span>';document.getElementById('si').textContent=id;document.getElementById('fu').onchange=function(e){const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=function(ev){try{const d=JSON.parse(ev.target.result);const s=d.service||d;const b=s.bots||[];const a=s.componentActions||[];const bt=b.reduce((acc,bot)=>{acc[bot.botType]=(acc[bot.botType]||0)+1;return acc},{});document.getElementById('si-sec').style.display='block';document.getElementById('as').style.display='block';document.getElementById('si-content').innerHTML='<div class="sg"><div class="sc"><div class="sv">'+b.length+'</div><div class="sl">Total BOTs</div></div><div class="sc"><div class="sv">'+a.length+'</div><div class="sl">Actions</div></div></div><div style="margin-top:16px"><div class="il">BOTS BY TYPE</div><div style="margin-top:8px">'+Object.entries(bt).map(([type,count])=>'<span style="background:rgba(52,211,153,0.2);color:#6ee7b7;padding:4px 10px;border-radius:6px;font-size:11px;margin-right:6px">'+type+': '+count+'</span>').join('')+'</div></div>'+(d.appVersion?'<div style="margin-top:12px"><div class="il">VERSION</div><div class="iv">'+d.appVersion+'</div></div>':'');}catch(err){alert('Invalid JSON: '+err.message);}};r.readAsText(f);};console.log('‚úÖ BPA Widget loaded');})();
```

This is a minified version for immediate testing. Once you confirm it works, we'll use the full hosted version.
